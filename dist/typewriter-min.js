"use strict";function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}var TypeWriter=function(){var a=/*#__PURE__*/function(){function a(){_classCallCheck(this,a),this.q=[],this.isRunning=!1}return _createClass(a,[{key:"push",value:function b(a){this.q.push(a)}},{key:"pushSpread",value:function b(){var a;(a=this.q).push.apply(a,arguments)}},{key:"shift",value:function a(){return this.q.shift()}},{key:"peek",value:function a(){return this.q[0]}},{key:"getLength",value:function a(){return this.q.length}}]),a}(),b=/*#__PURE__*/function(){var c=Math.floor,d=Math.abs;function b(e,f){_classCallCheck(this,b),this.el=document.querySelector(e+""),this.speed=c(d(f))||50,this.charQ=new a,this.intervalId=void 0,this.methodQ=new a}return _createClass(b,[{key:"runCharQ",value:function f(){var a,b=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.speed&&(e.speed=c(d(e.speed))),e.class?(this.el.innerHTML+="<span class=\"".concat(e.class,"\"></span>"),a=this.el.lastElementChild):a=this.el,this.intervalId=setInterval(function(){" "===b.charQ.peek()&&(a.innerHTML+=b.charQ.shift()),b.charQ.getLength()?a.innerHTML+=b.charQ.shift():(clearInterval(b.intervalId),b.intervalId=void 0,b.methodQ.isRunning=!1,b.runNextMethod())},e.speed||this.speed)}},{key:"runNextMethod",value:function a(){!this.methodQ.isRunning&&this.methodQ.getLength()&&(this.methodQ.isRunning=!0,this.methodQ.shift()())}},{key:"write",value:function d(a,b){var c=this;return a+""&&this.methodQ.push(function(){var d;(d=c.charQ).pushSpread.apply(d,_toConsumableArray(a+"")),c.runCharQ(b)}),this.runNextMethod(),this}},{key:"writeWords",value:function d(a,b){var c=this;return a+""&&this.methodQ.push(function(){for(var d,e=(a+"").split(" "),f=0;f<e.length-1;f++)e[f]="".concat(e[f]," ");(d=c.charQ).pushSpread.apply(d,_toConsumableArray(e)),c.runCharQ(b)}),this.runNextMethod(),this}},{key:"writeAll",value:function d(a,b){var c=this;return a+""&&this.methodQ.push(function(){c.charQ.push(a+""),c.runCharQ(b)}),this.runNextMethod(),this}},{key:"erase",value:function f(a,b){var e=this;return this.methodQ.push(function(){a=c(d(a)),b&&(b=c(d(b))),e.intervalId=setInterval(function(){e.el.lastChild&&a?(!e.el.lastChild.textContent&&e.el.lastChild.remove(),e.el.lastChild&&(e.el.lastChild.textContent&&(e.el.lastChild.textContent=e.el.lastChild.textContent.slice(0,-1),a--),a&&e.el.lastChild.textContent&&" "===e.el.lastChild.textContent[e.el.lastChild.textContent.length-1]&&(e.el.lastChild.textContent=e.el.lastChild.textContent.slice(0,-1),a--))):(clearInterval(e.intervalId),e.intervalId=void 0,e.methodQ.isRunning=!1,e.runNextMethod())},b||e.speed)}),this.runNextMethod(),this}},{key:"eraseWords",value:function f(a,b){var e=this;return this.methodQ.push(function(){a=c(d(a)),b&&(b=c(d(b))),e.intervalId=setInterval(function(){if(!(e.el.lastChild&&a))clearInterval(e.intervalId),e.intervalId=void 0,e.methodQ.isRunning=!1,e.runNextMethod();else if(e.el.lastChild.textContent||e.el.lastChild.remove(),e.el.lastChild){if(e.el.lastChild.textContent&&(e.el.lastChild.textContent=e.el.lastChild.textContent.trimEnd()),e.el.lastChild.textContent){var b=e.el.lastChild.textContent.split(" "),c=b[b.length-1];e.el.lastChild.textContent=e.el.lastChild.textContent.slice(0,-c.length),a--}e.el.lastChild.textContent&&(e.el.lastChild.textContent=e.el.lastChild.textContent.trimEnd())}},b||e.speed)}),this.runNextMethod(),this}},{key:"eraseAll",value:function b(){var a=this;return this.methodQ.push(function(){a.el.innerHTML="",a.methodQ.isRunning=!1,a.runNextMethod()}),this.runNextMethod(),this}},{key:"wait",value:function e(a){var b=this;return this.methodQ.push(function(){setTimeout(function(){b.methodQ.isRunning=!1,b.runNextMethod()},c(d(a)))}),this.runNextMethod(),this}},{key:"newLine",value:function b(){var a=this;return this.methodQ.push(function(){a.el.innerHTML+="<br/>",a.methodQ.isRunning=!1,a.runNextMethod()}),this.runNextMethod(),this}},{key:"callBack",value:function d(a,b){var c=this;return this.methodQ.push(function(){b?a.apply(void 0,_toConsumableArray(b)):a(),c.methodQ.isRunning=!1,c.runNextMethod()}),this.runNextMethod(),this}},{key:"setSpeed",value:function e(a){var b=this;return this.methodQ.push(function(){b.speed=c(d(a)),b.methodQ.isRunning=!1,b.runNextMethod()}),this.runNextMethod(),this}}]),b}();return b}();
